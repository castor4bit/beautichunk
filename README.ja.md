# Beautichunk

é›£èª­åŒ–ã•ã‚ŒãŸJavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€æ©Ÿèƒ½ã‚’ç¶­æŒã—ãŸã¾ã¾èª­ã¿ã‚„ã™ã„ãƒãƒ£ãƒ³ã‚¯åŒ–ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¤‰æ›ã—ã¾ã™ã€‚

## æ¦‚è¦

Beautichunkã¯ã€TypeScriptãƒ™ãƒ¼ã‚¹ã®ãƒ„ãƒ¼ãƒ«ã§ã€åœ§ç¸®ã¾ãŸã¯é›£èª­åŒ–ã•ã‚ŒãŸJavaScriptã‚³ãƒ¼ãƒ‰ã‚’ï¼š
- âœ¨ å¯èª­æ€§å‘ä¸Šã®ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’æ•´å½¢
- ğŸ“¦ å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†ã—ã‚„ã™ã„ãƒãƒ£ãƒ³ã‚¯ï¼ˆ< 256KBï¼‰ã«åˆ†å‰²
- ğŸ”— å®Ÿè¡Œé †åºã¨ä¾å­˜é–¢ä¿‚ã‚’ä¿æŒ
- ğŸš€ ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªçµ±åˆã®ãŸã‚ã®ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ç”Ÿæˆ

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g beautichunk
```

ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ä½¿ç”¨ï¼š

```bash
npm install beautichunk
```

## ä½¿ç”¨æ–¹æ³•

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³

```bash
beautichunk input.js -o ./output
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `-o, --output <dir>` - å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `./output`ï¼‰
- `-s, --max-size <size>` - æœ€å¤§ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºï¼ˆKBï¼‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `256`ï¼‰
- `-m, --source-maps` - ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—ã‚’ç”Ÿæˆ
- `-v, --verbose` - è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–
- `--strategy <type>` - ãƒãƒ£ãƒ³ã‚¯åŒ–æˆ¦ç•¥: `aggressive`ã€`conservative`ã€ã¾ãŸã¯ `auto`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `auto`ï¼‰
- `-c, --config <file>` - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹

### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ†ã‚£ãƒƒã‚¯API

```typescript
import { Beautichunk } from 'beautichunk';

const beautichunk = new Beautichunk({
  input: 'obfuscated.js',
  output: './output',
  maxChunkSize: 256 * 1024,
  generateSourceMaps: true,
  strategy: 'auto'
});

await beautichunk.process();
```

## è¨­å®š

`beautichunk.config.json`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼š

```json
{
  "input": "src/obfuscated.js",
  "output": "dist/chunks",
  "maxChunkSize": 262144,
  "beautifyOptions": {
    "indent_size": 2,
    "preserve_newlines": true
  },
  "strategy": "conservative",
  "generateSourceMaps": true
}
```

## å‹•ä½œåŸç†

1. **è§£æ** - é›£èª­åŒ–ã•ã‚ŒãŸJavaScriptã‚’æŠ½è±¡æ§‹æ–‡æœ¨ï¼ˆASTï¼‰ã«è§£æ
2. **æ•´å½¢** - è¨­å®šå¯èƒ½ãªãƒ«ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ã‚„ã™ãå†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
3. **åˆ†æ** - ã‚³ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ä¾å­˜é–¢ä¿‚ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°
4. **ãƒãƒ£ãƒ³ã‚¯åŒ–** - ã‚µã‚¤ã‚ºåˆ¶ç´„ã¨ä¾å­˜é–¢ä¿‚ã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‰ã‚’è³¢ãåˆ†å‰²
5. **ç”Ÿæˆ** - å€‹åˆ¥ã®ãƒãƒ£ãƒ³ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ­ãƒ¼ãƒ€ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆ

## ãƒãƒ£ãƒ³ã‚¯åŒ–æˆ¦ç•¥

- **Aggressive** - ã‚ˆã‚Šå°ã•ãªãƒãƒ£ãƒ³ã‚¯ã‚’å„ªå…ˆã€é–¢é€£ã‚³ãƒ¼ãƒ‰ãŒåˆ†å‰²ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Š
- **Conservative** - é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’ã¾ã¨ã‚ã¦ä¿æŒã€ã‚ˆã‚Šå¤§ããªãƒãƒ£ãƒ³ã‚¯ã«ãªã‚‹å¯èƒ½æ€§ã‚ã‚Š
- **Auto** - ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºã¨ã‚³ãƒ¼ãƒ‰ã®çµåˆæ€§ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚‹ï¼ˆæ¨å¥¨ï¼‰

## ä¾‹

å…¥åŠ›ï¼ˆé›£èª­åŒ–æ¸ˆã¿ï¼‰ï¼š
```javascript
(function(){var a=1,b=2;function c(){return a+b}console.log(c())})();
```

å‡ºåŠ›æ§‹é€ ï¼š
```
output/
â”œâ”€â”€ chunk-0.js
â”œâ”€â”€ chunk-1.js
â”œâ”€â”€ loader.js
â””â”€â”€ manifest.json
```

## é–‹ç™º

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/beautichunk.git

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm test

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run dev
```

## è²¢çŒ®

è²¢çŒ®ã¯æ­“è¿ã—ã¾ã™ï¼PRã‚’æå‡ºã™ã‚‹å‰ã«ã€è²¢çŒ®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ãŠèª­ã¿ãã ã•ã„ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT